{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","../node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js","../node_modules/@arcgis/core/views/2d/engine/webgl/FeatureDisplayList.js","../node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js","../node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js"],"names":["r","i","t","this","_head","_cursor","e","size","_link","id","materialKey","insertAfter","indexFrom","indexCount","vertexFrom","vertexCount","sortKey","_indexStart","_index","getCursor","next","copy","lookup","s","peekId","delete","isEmpty","byteLength","_","BYTES_PER_RECORD","Int32Array","ELEMENTS_PER_RECORD","BYTES_PER_ELEMENT","_deletedCount","_offsets","instance","_packedRecords","link","Map","set","has","get","_packedRecordsF32","Float32Array","buffer","length","z","getLogger","U","y","w","j","D","_texture","_lastTexture","_fbos","texelSize","pixelType","a","textureOnly","h","T","shared","data","n","_resetRange","dispose","detachColorTexture","target","wrapMode","pixelFormat","dataType","samplingMode","width","height","dirtyStart","Math","min","dirtyEnd","max","u","_initTexture","colorTarget","depthStencilTarget","getTexture","_textureDesc","p","Atomics","load","locked","hasDirty","o","d","l","c","x","g","f","b","error","updateData","start","end","layout","destroy","descriptor","getFBO","m","ArrayBuffer","getBoundFramebufferObject","getViewport","bindFramebuffer","readPixels","setViewport","k","_onUpdate","_initialized","_forceNextUpload","_locked","blocks","_data","resize","_defaultTexture","_pendingAttributeUpdate","console","log","setData","getData","resolver","promise","update","_getDefaultTexture","bindTexture","updateTexture","Uint8Array","value","symbolLevels","vvColorValues","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","ddColors","ddBackgroundColor","ddActiveDots","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_vvSizeFieldStops","type","levels","parseFloat","abs","sizes","values","_vvInfo","_updateVisualVariables","vvRanges","forEach","_updateEffects","_updateDotDensityInfo","ddDotBlending","outsideLabelsVisible","oesTextureFloat","supportsTextureFloat","filter","enabled","excludedLabelsVisible","minMaxValue","v","minSize","maxSize","scale","stops","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","color","colors","opacity","opacities","rotation","attributes","ddDotValue","dotValue","ddDotScale","referenceScale","ddDotSize","dotSize","dotBlendingEnabled","ddSeed","seed","backgroundColor","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","removeAllChildren","children","clear","setInfo","requestRender","push","items","abortOptions","context","capabilities","enable","pop","_processMaterialItemRequest","commit","state","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","mosaicItem","resolve","reject","_start","_buffer","Array","dequeue","tiles","layer","layerView","tileInfoView","isUpdating","createTile","once","notifyChange","key","disposeTile","isReady","requestUpdate","prototype","baseZoom","anchorX","anchorY","directionX","directionY","boundsCount","computedMinZoom","setComputedMinZoom","boundsComputedAnchorX","boundsComputedAnchorY","setBoundsComputedAnchorX","setBoundsComputedAnchorY","boundsX","boundsY","boundsWidth","boundsHeight","_savedCursor","_savedOffset","_offset","from","_count","count","_computeCount","isArray","find","remove","last","geometryType","draw","_target","_insert","_insertAtHead","_insertAtEnd","_insertAtMiddle","indexEnd","seekIndex","addRecord","Uint32Array","strideInt","bufferType","dirty","gpu","_cpu","freeList","fillPointer","maxAvailableSpace","round","free","_cpu2","slice","firstFit","_createBuffer","setSubData","createIndex","createVertex","_indicesInvalid","_vao","records","stride","_vertexBuffer","_indexBuffer","indices","vertices","ensure","insert","_records","_displayList","upload","geometry","bindVAO","drawElements","_sortIndices","_cursorIndexOrder","getBuffer","index","sort","Error","instanceId","patchCount","_renderState","current","metrics","swap","swapFrames","_patches","_bufferPatches","_lastCommitTime","_lastMessageWasClear","transforms","labelMat2d","_store","getScreenTransform","viewMat2d","_dropPatches","addOrUpdate","tileKeyOrigin","enqueue","time","_updateMesh","_updateBufferMesh","_swapRenderStates","_flushUpdates","_swap","peek","_patchBuffer","_patch","ready","_remove","LABEL","_insertLabelMetrics","_removeLabelMetrics","_pointToCallbacks","_layer","_layerView","hasAnimation","effects","integrate","orderBy","valueExpression","field","orderByFields","patch","contains","addChild","minScale","maxScale","hasLabels","view","labelManager","sublayers","some","labelingInfo","labelsVisible","featureReduction","registerRenderPass","name","brushes","label","drawPhase","LABEL_ALPHA","fill","line","marker","text","enableDefaultDraw","hasEffects","apply","outsideEffect","args","effectLists","excluded","insideEffect","included","hittest","HIGHLIGHT","highlight","hasHighlight","featuresView","removeChild","hitTest","indexOf","visualVariables","clone","normalizationField","setRendererInfo","tileKey","onTileData","onTileError","forceTextureUpload","lockTextureUpload","lock","unlockTextureUpload","unlock","getMaterialItems","getTileBounds","triangleCountReportedInDebug","triangleCount","texture","rangeX","rangeY","tileMat3","toScreenNoRotation","dvs","displayViewMat3","level","row","col","_tileInfoView","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","DEBUG","MAP","getStencilTarget","getTileResolution","setTransform","stencilRef","warn","sqrt","expression","vvFields","SIZE_MINMAX_VALUE","SIZE_SCALE_STOPS","SIZE_FIELD_STOPS","SIZE_UNIT_VALUE","valueUnit","valueRepresentation","rotationType","refCount","version","_transforms","TransformCache","release","hash","acquire"],"mappings":"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","file":"static/js/59.04a8f761.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{DISPLAY_RECORD_INT_PER_ELEMENT as s}from\"../definitions.js\";const r=2147483647;class i{constructor(t){this._head=t,this._cursor=t}static from(t,e=0,s=t.byteLength/_.BYTES_PER_RECORD-e){const r=new _(new Int32Array(t,e*_.BYTES_PER_RECORD,s*_.ELEMENTS_PER_RECORD));return new i(r)}size(){let t=this._cursor,e=0;for(;t;)e+=t.size(),t=t._link;return e}get id(){return this._cursor.id}set id(t){this._cursor.id=t}get materialKey(){return this._cursor.materialKey}set materialKey(t){this._cursor.materialKey=t}get insertAfter(){return this._cursor.insertAfter}get indexFrom(){return this._cursor.indexFrom}set indexFrom(t){this._cursor.indexFrom=t}get indexCount(){return this._cursor.indexCount}set indexCount(t){this._cursor.indexCount=t}get vertexFrom(){return this._cursor.vertexFrom}set vertexFrom(t){this._cursor.vertexFrom=t}get vertexCount(){return this._cursor.vertexCount}set vertexCount(t){this._cursor.vertexCount=t}get sortKey(){return this._cursor.sortKey}set sortKey(t){this._cursor.sortKey=t}get index(){return this._cursor._indexStart+this._cursor._index}seekIndex(t){let e=t;for(this._cursor=this._head;this._cursor;){const t=this._cursor.size();if(e<t)return this._cursor._index=e,!0;e-=t,this._cursor=this._cursor._link}return!1}forEach(t){const e=this.getCursor();for(;e.next();)t(e)}link(t){if(!this._head)return void(this._head=t._head);let e=this._head;for(;e._link;)e=e._link;e._link=t._head,e._link._indexStart=e._indexStart+e.size()}getCursor(){return this.copy()}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}copy(){var t;const e=new i(null==(t=this._head)?void 0:t.copy());if(!e._head)return e;let s=e._head,r=e._head._link;for(;r;)s._link=r.copy(),s=r,r=s._link;return e}next(){return!!this._cursor&&(!!this._cursor.next()||!!this._cursor._link&&(this._cursor=this._cursor._link,this.next()))}peekId(){var t;return null!=(t=this._cursor.peekId())?t:this._cursor._link.peekId()}delete(e){let s=this._head,r=null;for(;s;){if(s.delete(e))return s.isEmpty()&&(t(r)&&(r._link=s._link),s===this._head&&(this._head=s._link),s===this._cursor&&(this._cursor=s._link)),!0;r=s,s=s._link}return!1}}i.ELEMENTS_PER_RECORD=s,i.BYTES_PER_RECORD=i.ELEMENTS_PER_RECORD*Int32Array.BYTES_PER_ELEMENT;class _{constructor(t){this._link=null,this._index=-1,this._indexStart=0,this._deletedCount=0,this._offsets={instance:null},this._packedRecords=t}static from(t,e=0,s=t.byteLength/this.BYTES_PER_RECORD-e){return new _(new Int32Array(t,e*this.BYTES_PER_RECORD,s*this.ELEMENTS_PER_RECORD))}delete(t){const e=this._index,s=this.lookup(t);if(s)for(this.id=r,++this._deletedCount;this.next()&&this.id===t;)this.id=r,++this._deletedCount;return this._index=e,s}isEmpty(){return this._deletedCount===this.size()}link(t){this._link?this._link.link(t):this._link=t}lookup(t){if(e(this._offsets.instance)){this._offsets.instance=new Map;const t=this.copy();t._index=-1;let e=0;for(;t.next();)t.id!==e&&(this._offsets.instance.set(t.id,t._index),e=t.id)}if(!this._offsets.instance.has(t))return!1;const s=this._index;return this._index=this._offsets.instance.get(t),this.id!==r||(this._index=s,!1)}get id(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD]}set id(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD]=t}get materialKey(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+1]}set materialKey(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+1]=t}get insertAfter(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+2]}get indexFrom(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+3]}set indexFrom(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+3]=t}get indexCount(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+4]}set indexCount(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+4]=t}get vertexFrom(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+5]}set vertexFrom(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+5]=t}get vertexCount(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+6]}set vertexCount(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+6]=t}get sortKey(){return this._packedRecordsF32||(this._packedRecordsF32=new Float32Array(this._packedRecords.buffer)),this._packedRecordsF32[this._index*_.ELEMENTS_PER_RECORD+7]}set sortKey(t){this._packedRecordsF32||(this._packedRecordsF32=new Float32Array(this._packedRecords.buffer)),this._packedRecordsF32[this._index*_.ELEMENTS_PER_RECORD+7]=t}get index(){return this._index}size(){return this._packedRecords.length/_.ELEMENTS_PER_RECORD}next(){for(;++this._index<this.size()&&this.id===r;);return this._index<this.size()}peekId(){const t=(this._index+1)*_.ELEMENTS_PER_RECORD;return t>=this._packedRecords.length?0:this._packedRecords[t]}getCursor(){return this.copy()}copy(){const t=new _(this._packedRecords);return t._indexStart=this._indexStart,t._link=this._link,t._index=this._index,t._offsets=this._offsets,t._deletedCount=this._deletedCount,t}}_.ELEMENTS_PER_RECORD=s,_.BYTES_PER_RECORD=_.ELEMENTS_PER_RECORD*Int32Array.BYTES_PER_ELEMENT;export{i as DisplayRecordReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import e from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{isNone as s,mapMany as r,isSome as a,andThen as h,unwrap as n,forEachSome as o,mapOr as d,unwrapOr as u}from\"../../../../core/maybe.js\";import{createResolver as l}from\"../../../../core/promiseUtils.js\";import\"../../../webgl/BufferObject.js\";import p from\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/checkWebGLError.js\";import\"../../../webgl/enums.js\";import\"../../../../chunks/builtins.js\";import\"../../../webgl/renderState.js\";import c from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";import{ATTRIBUTE_DATA_VV as x,TEXTURE_BINDING_ATTRIBUTE_DATA_0 as g,TEXTURE_BINDING_ATTRIBUTE_DATA_1 as _,TEXTURE_BINDING_ATTRIBUTE_DATA_2 as f,TEXTURE_BINDING_ATTRIBUTE_DATA_3 as b}from\"./definitions.js\";import{getPixelArrayCtor as T,getPixelBytes as m}from\"./Utils.js\";import{createDebugLogger as y,DEBUG_ATTR_UPDATES as w}from\"./util/debug.js\";const z=i.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\"),U=y(w,z),S=2147483647,j=t=>t&S;class D{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:a}=t,h=T(r);this.shared=i,this.pixelType=r,this.size=e,this.textureOnly=a,a||(this.data=new h(n(s))),this._resetRange()}destroy(){h(this._texture,(t=>t.dispose()));for(const t in this._fbos)h(this._fbos[t],(e=>{\"0\"===t&&e.detachColorTexture(),e.dispose()})),this._fbos[t]=null;this._texture=null}get _textureDesc(){return{target:3553,wrapMode:33071,pixelFormat:6408,dataType:this.pixelType,samplingMode:9728,width:this.size,height:this.size}}setData(t,e,i){const s=j(t),r=n(this.data),a=s*this.texelSize+e;!r||a>=r.length||(r[a]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,e){if(s(this.data))return null;const i=j(t)*this.texelSize+e;return!this.data||i>=this.data.length?null:this.data[i]}getTexture(t){return u(this._texture,(()=>this._initTexture(t)))}getFBO(t,e=0){if(s(this._fbos[e])){const i={colorTarget:0,depthStencilTarget:0},s=0===e?this.getTexture(t):this._textureDesc;this._fbos[e]=new p(t,i,s)}return this._fbos[e]}get locked(){return!(5121!==this.pixelType||!this.shared||this.textureOnly||!e(\"esri-atomics\")||!this.data)&&1===Atomics.load(this.data,0)}get hasDirty(){const t=this.dirtyStart;return this.dirtyEnd>=t}updateTexture(e,i){if(!this.locked){try{const i=this.dirtyStart,s=this.dirtyEnd;if(!this.hasDirty)return;this._resetRange();const r=n(this.data).buffer,a=this.getTexture(e),h=4,o=(i-i%this.size)/this.size,d=(s-s%this.size)/this.size,u=o,l=this.size,p=d,c=o*this.size*h,x=(l+p*this.size)*h-c,g=T(this.pixelType),_=new g(r,c*g.BYTES_PER_ELEMENT,x),f=this.size,b=p-u+1;if(b>this.size)return void z.error(new t(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));a.updateData(0,0,u,f,b,_)}catch(s){}i()}}update(t){const{data:e,start:i,end:s}=t;if(a(e)){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,s)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=T(this.pixelType);this.destroy(),this.data=new s(n(t.buffer))}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new c(t,this._textureDesc,u(this.data,void 0));if(a(this._lastTexture)&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,h=this.getFBO(t),n=m(r),o=new(T(r))(new ArrayBuffer(i*s*n*this.texelSize)),d=t.getBoundFramebufferObject(),{x:u,y:l,width:p,height:c}=t.getViewport();t.bindFramebuffer(h),h.readPixels(0,0,i,s,a,r,o),e.updateData(0,0,0,2*i,s/2,o),t.setViewport(u,l,p,c),t.bindFramebuffer(d)}return this.destroy(),this._texture=e,this._texture}}class k{constructor(t){this._onUpdate=t,this._initialized=!1,this._forceNextUpload=!1,this._locked=!1}initialize(t){const{blocks:e,shared:i,size:h}=t;if(this.shared=i,this.size=h,U(\"Initializing AttributeStoreView\",t),s(this._data))this._data=r(e,(t=>new D(t,h,i)));else for(let r=0;r<this._data.length;r++){const t=this._data[r],n=e[r];a(n)&&(s(t)?this._data[r]=new D(n,h,i):t.resize(n,h))}this._initialized=!0}destroy(){h(this._data,(t=>r(t,(t=>t.destroy())))),h(this._defaultTexture,(t=>t.dispose()))}isUpdating(){const t=this._data;if(s(t))return!0;const i=a(this._pendingAttributeUpdate),r=i;return e(\"esri-2d-log-updating\")&&console.log(`Updating AttributeStoreView ${r}\\n  -> hasPendingUpdate ${i}`),r}getBlock(t){if(s(this._data))return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVVSize(t){return this.getData(t,x,0,0)}getData(t,e,i,r){if(!this._data)return 0;const h=n(this._data)[e];if(s(h))return 0;const o=h.getData(t,i);return a(o)?o:r}setData(t,e,i,s){const r=n(this._data)[e];n(r).setData(t,i,s)}lockTextureUpload(){this._locked=!0}unlockTextureUpload(){this._locked=!1}forceTextureUpload(){this._forceNextUpload=!0}async requestUpdate(e){if(this._pendingAttributeUpdate)return void z.error(new t(\"mapview-webgl\",\"Tried to update attribute data with a pending update\"));const i=l();return U(\"AttributeStoreView Update Requested\",e),this._pendingAttributeUpdate={data:e,resolver:i},i.promise}update(){if(this._initialized&&a(this._pendingAttributeUpdate)){const{data:t,resolver:e}=this._pendingAttributeUpdate,i=n(this._data);for(let s=0;s<t.blocks.length;s++){const e=t.blocks[s],r=i[s];h(r,(t=>h(e,(e=>{U(`Updating block ${s}`,e),t.update(e)}))))}this._pendingAttributeUpdate=null,e(),this._onUpdate()}}bindTextures(t,e=!0){this.update();const i=this._getDefaultTexture(t);if(!this._initialized)return t.bindTexture(i,g),void(e&&(t.bindTexture(i,_),t.bindTexture(i,f),t.bindTexture(i,b)));const s=n(this._data);this._locked&&!this._forceNextUpload||(o(s,(e=>e.updateTexture(t,(()=>this._onUpdate())))),this._forceNextUpload=!1),t.bindTexture(d(s[0],i,(e=>e.getTexture(t))),g),e&&(t.bindTexture(d(s[1],i,(e=>e.getTexture(t))),_),t.bindTexture(d(s[2],i,(e=>e.getTexture(t))),f),t.bindTexture(d(s[3],i,(e=>e.getTexture(t))),b))}_getDefaultTexture(t){if(s(this._defaultTexture)){const e={wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1};this._defaultTexture=new c(t,e,new Uint8Array(4))}return this._defaultTexture}}export{k as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{unwrapOr as t,unwrap as i,isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{DOT_DENSITY_MAX_FIELDS as n}from\"./definitions.js\";import{isDefined as v,isNumber as d}from\"./Utils.js\";import u from\"../../../webgl/capabilities.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}function p(e,t,i=0){if(a(t))return e[i+0]=0,e[i+1]=0,e[i+2]=0,void(e[i+3]=0);const{r:s,g:o,b:l,a:r}=t;e[i+0]=s*r/255,e[i+1]=o*r/255,e[i+2]=l*r/255,e[i+3]=r}class h{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.ddColors=new Float32Array(32),this.ddBackgroundColor=new Float32Array(4),this.ddActiveDots=new Float32Array(8),this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1}}getSizeVVFieldStops(e){const s=this._vvSizeFieldStops;switch(s.type){case\"static\":return s;case\"level-dependent\":return t(s.levels[e],(()=>{let t=1/0,a=0;for(const i in s.levels){const s=parseFloat(i),o=Math.abs(e-s);o<t&&(t=o,a=s)}if(t===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const o=2**((e-a)/2),l=i(s.levels[a]),r=new Float32Array(l.values);return r[2]*=o,r[3]*=o,{sizes:i(l.sizes),values:r}}))}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){s(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){if(s(i)&&i.forEach((e=>this._updateEffects(e))),this._vvInfo=t,\"dot-density\"===e.type)this._updateDotDensityInfo(e)}getVariation(){return{ddDotBlending:this.ddDotBlending,outsideLabelsVisible:this.outsideLabelsVisible,oesTextureFloat:u().supportsTextureFloat}}getVariationHash(){return(this.ddDotBlending?1:0)|(this.outsideLabelsVisible?1:0)<<1}_updateEffects(e){s(e)&&e.filter&&e.filter.enabled&&(this.outsideLabelsVisible=e.excludedLabelsVisible)}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const s=e.size;if(s){if(i.vvSizeEnabled=!0,s.minMaxValue){const e=s.minMaxValue;let i,a;if(v(e.minSize)&&v(e.maxSize))if(d(e.minSize)&&d(e.maxSize))i=o(e.minSize),a=o(e.maxSize);else{const s=t.scale;i=o(c(s,e.minSize.stops)),a=o(c(s,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(s.scaleStops&&(this.vvSizeScaleStopsValue=o(c(t.scale,s.scaleStops.stops))),s.unitValue){const e=l(t.spatialReference)/r[s.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}s.fieldStops&&(this._vvSizeFieldStops=s.fieldStops)}const a=e.color;a&&(i.vvColorEnabled=!0,this.vvColorValues.set(a.values),this.vvColors.set(a.colors));const n=e.opacity;n&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(n.values),this.vvOpacities.set(n.opacities));const u=e.rotation;u&&(i.vvRotationEnabled=!0,i.vvRotationType=u.type)}_updateDotDensityInfo(t){const i=t.attributes;this.ddDotValue=t.dotValue,this.ddDotScale=t.referenceScale,this.ddDotSize=t.dotSize,this.ddDotBlending=t.dotBlendingEnabled,this.ddSeed=t.seed;for(let s=0;s<n;s++){const t=s>=i.length?new e([0,0,0,0]):i[s].color;p(this.ddColors,t,4*s)}for(let e=0;e<8;e++)this.ddActiveDots[e]=e<t.attributes.length?1:0;p(this.ddBackgroundColor,t.backgroundColor)}}export{h as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.removeAllChildren(),this.children.forEach((e=>e.destroy())),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return null;const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,n=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(n).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const e of this._buffer)if(t(e)&&s(e))return e;return null}clear(s){let e=this.dequeue();for(;t(e);)s&&s(e),e=this.dequeue()}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([r()],i.prototype,\"layer\",void 0),e([r()],i.prototype,\"layerView\",void 0),e([r()],i.prototype,\"tileInfoView\",void 0),e([r()],i.prototype,\"updating\",null),i=e([s(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as s}from\"../../../../../core/maybe.js\";const e=6,r=4294967296;class o{constructor(t){this._head=t,this._cursor=t}static from(t){const s=i.from(new Float32Array(t));return new o(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get materialKey(){return this._cursor.materialKey}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsX(t){return this._cursor.boundsX(t)}boundsY(t){return this._cursor.boundsY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(s){if(t(s._head))return this._cursor.link(s._head)}getCursor(){return this.copy()}copy(){var t;const s=new o(null==(t=this._head)?void 0:t.copy());if(!s._head)return s;let e=s._head,r=s._head._link;for(;r;)e._link=r.copy(),e=r,r=e._link;return s}peekId(){var t;return null!=(t=this._cursor.peekId())?t:this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._cursor=this._savedCursor,this._cursor._offset=this._savedOffset}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(s){let e=this._head,r=null;for(;e;){if(e.delete(s))return e.isEmpty()&&t(r)&&(r._link=e._link),!0;r=e,e=e._link}return!1}}class i{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new i(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset+0]}set id(t){this._buffer[this._offset+0]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get materialKey(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(t){return this._buffer[this._offset+10+t*e+0]}boundsComputedAnchorY(t){return this._buffer[this._offset+10+t*e+1]}setBoundsComputedAnchorX(t,s){this._buffer[this._offset+10+t*e+0]=s}setBoundsComputedAnchorY(t,s){this._buffer[this._offset+10+t*e+1]=s}boundsX(t){return this._buffer[this._offset+10+t*e+2]}boundsY(t){return this._buffer[this._offset+10+t*e+3]}boundsWidth(t){return this._buffer[this._offset+10+t*e+4]}boundsHeight(t){return this._buffer[this._offset+10+t*e+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new i(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const t=this._offset+10+this.boundsCount*e+0;return t>=this._buffer.length?0:this._buffer[t]}next(){let t=0;for(;this._offset<this._buffer.length&&t++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*e,this.id===r););return this.id!==r&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(s(this._offsets.instance)){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==r||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}export{o as MetricReader,i as MetricReaderNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";class e{constructor(t){if(!Array.isArray(t))return void(this.data=t);this.data=t[0];let a=this;for(let n=1;n<t.length;n++)a.next=new e([t[n]]),a=a.next}*values(){let t=this;for(;t;)yield t.data,t=t.next}forEach(t){let e=this;for(;e;)t(e.data),e=e.next}find(t){var e;return t(this.data)?this:null==(e=this.next)?void 0:e.find(t)}max(t,e=this){const a=t(this.data)>t(e.data)?this:e;return this.next?this.next.max(t,a):a}remove(t,e=null){return this===t?e?(e.next=this.next,e):this.next:this.next.remove(t,this)}get last(){return this.next?this.next.last:this}}class a{constructor(a){this._head=null,t(a)||(this._head=new e(a))}get head(){return this._head}maxAvailableSpace(){if(t(this._head))return 0;const e=this._head.max((t=>t.end-t.start));return e.data.end-e.data.start}firstFit(e){if(t(this._head))return null;let a=null,n=this._head;for(;n;){const t=n.data.end-n.data.start;if(t===e)return a?a.next=n.next:this._head=n.next,n.data.start;if(t>e){const t=n.data.start;return n.data.start+=e,t}a=n,n=n.next}return null}free(a,n){const r=a+n;if(t(this._head)){const t=new e({start:a,end:r});return void(this._head=t)}if(r<=this._head.data.start){if(r===this._head.data.start)return void(this._head.data.start-=n);const t=new e({start:a,end:r});return t.next=this._head,void(this._head=t)}let s=this._head,i=s.next;for(;i;){if(i.data.start>=r){if(s.data.end===a)return void(s.data.end+=n);if(i.data.start===r)return void(i.data.start-=n);const t=new e({start:a,end:r});return t.next=s.next,void(s.next=t)}s=i,i=i.next}if(a===s.data.end)return void(s.data.end+=n);const d=new e({start:a,end:r});s.next=d}}export{a as FreeList,e as List};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{List as i}from\"./cpuMapped/FreeList.js\";class n{constructor(t,e,i,n,a){this.target=t,this.geometryType=e,this.materialKey=i,this.indexFrom=n,this.indexCount=a}get indexEnd(){return this.indexFrom+this.indexCount}extend(t){this.indexCount+=t}draw(t,e,i){this.target.draw(t,e,i,this.indexFrom,this.indexCount)}}class a{constructor(t,e){this.geometryType=0,this._target=t,this.geometryType=e}static from(e,i,n,d){const s=new a(e,i);if(t(d))for(const t of d)n.seekIndex(t),s.addRecord(n);else for(;n.next();)s.addRecord(n);return s}addRecord(t){const a=this._target,d=this.geometryType,s=t.materialKey,r=t.indexFrom,o=t.indexCount;if(e(this._head)){const t=new n(a,d,s,r,o);return void(this._head=new i(t))}let h=null,x=this._head;for(;x;){if(r<x.data.indexFrom)return this._insert(s,r,o,h,x);h=x,x=x.next}this._insert(s,r,o,h,null)}forEach(e){t(this._head)&&this._head.forEach(e)}*infos(){if(t(this._head))for(const t of this._head.values())yield t}_insert(a,d,s,r,o){if(e(r)&&e(o)){const t=new n(this._target,this.geometryType,a,d,s);this._head=new i(t)}return e(r)&&t(o)?this._insertAtHead(a,d,s,o):t(r)&&e(o)?this._insertAtEnd(a,d,s,r):t(r)&&t(o)?this._insertAtMiddle(a,d,s,r,o):void 0}_insertAtHead(t,e,a,d){const s=e+a;if(t===d.data.materialKey&&s===d.data.indexFrom)d.data.indexFrom=e,d.data.indexCount+=a;else{const s=new n(this._target,this.geometryType,t,e,a);this._head=new i(s),this._head.next=d}}_insertAtEnd(t,e,a,d){if(d.data.materialKey===t&&d.data.indexEnd===e)d.data.indexCount+=a;else{const s=new n(this._target,this.geometryType,t,e,a),r=new i(s);d.next=r}}_insertAtMiddle(t,e,a,d,s){const r=e+a;if(d.data.materialKey===t&&d.data.indexEnd===e)d.data.indexCount+=a,d.data.materialKey===s.data.materialKey&&d.data.indexEnd===s.data.indexFrom&&(d.data.indexCount+=s.data.indexCount,d.next=s.next);else if(t===s.data.materialKey&&r===s.data.indexFrom)s.data.indexFrom=e,s.data.indexCount+=a;else{const r=new n(this._target,this.geometryType,t,e,a),o=new i(r);d.next=o,o.next=s}}}export{a as FeatureDisplayList,n as FeatureDisplayListInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{andThen as t,isSome as i,unwrapOrThrow as s,isNone as e}from\"../../../../../core/maybe.js\";import r from\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import\"../../../../../core/has.js\";import\"../../../../webgl/checkWebGLError.js\";import\"../../../../webgl/enums.js\";import\"../../../../../chunks/builtins.js\";import\"../../../../webgl/renderState.js\";import\"../../../../webgl/Texture.js\";import\"../../../../webgl/VertexArrayObject.js\";import{FreeList as h}from\"./FreeList.js\";const n=32767,d=n<<16|n;class u{constructor(t,i,s){const e=new Uint32Array(i*s);this.strideInt=s,this.bufferType=t,this.dirty={start:1/0,end:0},this.gpu=null,this._cpu=e,this.clear()}get elementSize(){return this._cpu.length/this.strideInt}destroy(){t(this.gpu,(t=>t.dispose()))}clear(){this.dirty.start=1/0,this.dirty.end=0,this.freeList=new h({start:0,end:this._cpu.length/this.strideInt}),this.fillPointer=0}ensure(t){if(this.maxAvailableSpace()>=t)return;const s=t*this.strideInt;if(s>this._cpu.length-this.fillPointer){i(this.gpu)&&(this.gpu=null);const t=Math.round(1.5*(this._cpu.length+s)),e=new Uint32Array(t),r=this._cpu.length/this.strideInt,h=t/this.strideInt;this.freeList.free(r,h-r),e.set(this._cpu),this._cpu=e}}set(t,i){this._cpu[t]!==i&&(this._cpu[t]=i,this.dirty.start=Math.min(t,this.dirty.start),this.dirty.end=Math.max(t,this.dirty.end))}getBuffer(){if(!this._cpu2||this._cpu2.length!==this._cpu.length){const t=this._cpu.slice();this._cpu2=t}return this._cpu2.set(this._cpu),this._cpu2}get bufferSize(){return this._cpu.length/this.strideInt}maxAvailableSpace(){return this.freeList.maxAvailableSpace()}insert(t,i,e,r){const h=e*this.strideInt,n=i*this.strideInt*Uint32Array.BYTES_PER_ELEMENT,d=new Uint32Array(t,n,h),u=s(this.freeList.firstFit(e),\"First fit region must be defined\")*this.strideInt,a=h,c=u/this.strideInt-i;if(0!==r)for(let s=0;s<d.length;s++)d[s]+=r;return this._cpu.set(d,u),this.dirty.start=Math.min(this.dirty.start,u),this.dirty.end=Math.max(this.dirty.end,u+a),this.fillPointer=Math.max(this.fillPointer,u+a),c}free(t,i,s){const e=t*this.strideInt,r=(t+i)*this.strideInt;if(!0===s)for(let h=t;h!==t+i;h++)this._cpu[h*this.strideInt]=d;this.dirty.start=Math.min(this.dirty.start,e),this.dirty.end=Math.max(this.dirty.end,r),this.freeList.free(t,i)}upload(t){if(this.dirty.end){if(e(this.gpu))return this.gpu=this._createBuffer(t),this.dirty.start=1/0,void(this.dirty.end=0);this.gpu.setSubData(this._cpu,this.dirty.start,this.dirty.start,this.dirty.end),this.dirty.start=1/0,this.dirty.end=0}}_createBuffer(t){const i=35048;return\"index\"===this.bufferType?r.createIndex(t,i,this._cpu):r.createVertex(t,i,this._cpu)}}export{u as Buffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{unwrapOrThrow as e,isNone as t}from\"../../../../../core/maybe.js\";import\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import\"../../../../../core/has.js\";import\"../../../../webgl/checkWebGLError.js\";import\"../../../../webgl/enums.js\";import\"../../../../../chunks/builtins.js\";import\"../../../../webgl/renderState.js\";import\"../../../../webgl/Texture.js\";import r from\"../../../../webgl/VertexArrayObject.js\";import{FeatureDisplayList as i}from\"../FeatureDisplayList.js\";import{Buffer as s}from\"./Buffer.js\";import{DisplayRecordReader as o}from\"./DisplayRecordReader.js\";class n{constructor(e,t){this._indicesInvalid=!1,this.geometryType=e}destroy(){this._vao&&(this._vao.dispose(),this._vao=null)}insert(t,r,i){if(!t.records.byteLength)return;const n=t.stride;if(this._vertexBuffer&&this._indexBuffer){const i=4*t.indices.byteLength,s=t.vertices.byteLength/n;this._indexBuffer.ensure(i),this._vertexBuffer.ensure(s);const{vertices:f,indices:d}=t,h=o.from(t.records),u=this._vertexBuffer.insert(f,0,f.byteLength/n,0),c=this._indexBuffer.insert(d,0,d.byteLength/4,u);if(h.forEach((e=>{e.indexFrom+=c,e.vertexFrom+=u})),e(this._records,\"Expected records to be defined\").link(h),r)this._indicesInvalid=!0;else if(this._displayList){const e=h.getCursor();for(;e.next();)this._displayList.addRecord(e)}}else{const e=4*t.indices.byteLength,i=t.vertices.byteLength/n,f=n/Uint32Array.BYTES_PER_ELEMENT;this._records=o.from(t.records),this._indexBuffer=new s(\"index\",e,1),this._vertexBuffer=new s(\"vertex\",i,f),this._indexBuffer.insert(t.indices,0,t.indices.byteLength/4,0),this._vertexBuffer.insert(t.vertices,0,t.vertices.byteLength/n,0),r&&(this._indicesInvalid=!0)}}remove(e){if(!t(this._records))for(const t of e){const e=this._records.getCursor();if(!e.lookup(t))continue;const r=e.indexFrom,i=e.vertexFrom;let s=e.indexCount,o=e.vertexCount;for(;e.next()&&e.id===t;)s+=e.indexCount,o+=e.vertexCount;this._indexBuffer.free(r,s),this._vertexBuffer.free(i,o,!0),this._records.delete(t)}}draw(e,i,s,o,n){if(!this._vertexBuffer||!this._indexBuffer||t(this._records))return;if((t(this._vertexBuffer.gpu)||t(this._indexBuffer.gpu))&&(this._vao&&(this._vao.dispose(),this._vao=null),this._vertexBuffer.gpu=null,this._indexBuffer.gpu=null),this._vertexBuffer.upload(e),this._indexBuffer.upload(e),!this._vao){const t=this._vertexBuffer.gpu,o=this._indexBuffer.gpu;if(!o||!t)return;this._vao=new r(e,s,i,{geometry:t},o)}const f=this._vao,d=o*Uint32Array.BYTES_PER_ELEMENT;e.bindVAO(f),e.drawElements(4,n,5125,d)}forEachCommand(e){if(!t(this._records)){if(this._sortIndices(this._records),!this._displayList){const e=this._cursorIndexOrder;this._displayList=i.from(this,this.geometryType,this._records.getCursor(),e)}this._displayList.forEach(e)}}_sortIndices(e){if(!this._indicesInvalid)return;this._indicesInvalid=!1;let t=0;const r=e.getCursor(),i=this._indexBuffer.getBuffer(),s=[],o=[],n=[];for(;r.next();)o.push(r.index),n.push(r.sortKey),s.push(r.id);o.sort(((e,t)=>{const r=n[t],i=n[e];return i===r?s[t]-s[e]:r-i}));const f=e.getCursor();for(const d of o){if(!f.seekIndex(d))throw new Error(\"Expected to find index\");const{indexFrom:e,indexCount:r}=f;f.indexFrom=t;for(let s=0;s<r;s++)this._indexBuffer.set(t++,i[e+s])}this._cursorIndexOrder=o,this._displayList=null}}export{n as Geometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import\"../../../../core/has.js\";import{isSome as t,unwrapOr as r,isNone as s}from\"../../../../core/maybe.js\";import{i,t as a,m as n}from\"../../../../chunks/mat2d.js\";import{c as h}from\"../../../../chunks/mat2df32.js\";import{t as c}from\"../../../../chunks/vec2.js\";import{c as o}from\"../../../../chunks/vec2f32.js\";import{WGLGeometryType as d}from\"./enums.js\";import{forEachGeometryType as _}from\"./Utils.js\";import{WGLTile as u}from\"./WGLTile.js\";import{MetricReader as m}from\"./collisions/MetricReader.js\";import{Geometry as p}from\"./cpuMapped/Geometry.js\";const f=50,l=4,S=8,y=100;let w=0;class g extends u{constructor(t,r,s,i){super(t,r,s),this.instanceId=w++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new e(y),this._bufferPatches=new e(y),this._lastCommitTime=0,this._lastMessageWasClear=!1,this.transforms.labelMat2d=h(),this._store=i}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy()))}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}getGeometry(e){return this._renderState.current.geometry.get(e)}setTransform(e,t){super.setTransform(e,t);const r=this.transforms.labelMat2d,s=e.getScreenTransform(r,t),h=o();c(h,[this.x,this.y],s),i(r),a(r,r,h),n(r,e.viewMat2d,r)}patch(e,t){if(this.patchCount++,e.clear&&this._lastMessageWasClear)return;this._lastMessageWasClear=e.clear,e.clear&&this._patches.size>=f&&this._dropPatches();const r=e,s=r.addOrUpdate&&this.key.id!==r.addOrUpdate.tileKeyOrigin;t&&s?this._bufferPatches.enqueue(r):(r.sort=r.sort&&!t,this._patches.enqueue(r)),this.requestRender()}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<l;e++)this._updateMesh(),this.isReady&&this._updateBufferMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();if(this._renderState.swap=!0,0===this._renderState.swapFrames)return this._renderState.swapFrames=S,void this.requestRender();1==this._renderState.swapFrames--?this._swap():this.requestRender()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,t(this._renderState.next)&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateBufferMesh(){const e=this._bufferPatches.peek();if(!t(e)||!e.clear||null===this._renderState.next)for(;this._bufferPatches.size;){const e=this._bufferPatches.dequeue();t(e)&&this._patchBuffer(e)}}_updateMesh(){const e=this._patches.peek();if(t(e)&&e.clear&&null!==this._renderState.next)return;const r=this._patches.dequeue();if(t(r)){if(!0===r.clear){if(!this.isReady)return;return this._renderState.next,void(this._renderState.next={geometry:new Map,metrics:null})}this.requestRender(),this._patch(r),r.end&&(this.ready(),this._swapRenderStates())}}_patch(e){_((t=>{this._remove(t,e.remove),this._insert(t,e,!1)}))}_patchBuffer(e){_((t=>{this._insert(t,e,!0)}))}_insert(e,t,i){try{var a;const n=r(this._renderState.next,this._renderState.current),h=null==(a=t.addOrUpdate)?void 0:a.data[e],c=n.geometry;if(s(h))return;c.has(e)||c.set(e,new p(e,this.stage)),c.get(e).insert(h,t.sort,i),e===d.LABEL&&this._insertLabelMetrics(t.type,h.metrics,t.clear)}catch(n){}}_insertLabelMetrics(e,t,i){const a=r(this._renderState.next,this._renderState.current);if(s(t))return;const n=m.from(t);if(s(a.metrics))a.metrics=n;else{if(\"update\"===e){const e=n.getCursor();for(;e.next();)a.metrics.delete(e.id)}a.metrics.link(n)}}_remove(e,t){const s=r(this._renderState.next,this._renderState.current).geometry.get(e);t&&t.length&&s&&(s.remove(t),this._removeLabelMetrics(t))}_removeLabelMetrics(e){const{metrics:t}=r(this._renderState.next,this._renderState.current);if(!s(t)&&e.length)for(const r of e)for(;t.delete(r););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const r=this._patches.dequeue();if(s(r))break;if(r.clear){if(t)break;t=!0}e.push(r)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}export{g as FeatureTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{createResolver as s}from\"../../../../../../core/promiseUtils.js\";import{brushes as t}from\"../../../../engine/brushes.js\";import{FeatureContainer as i}from\"../../../../engine/FeatureContainer.js\";import{WGLDrawPhase as r}from\"../../../../engine/webgl/enums.js\";const a=e(\"featurelayer-order-by-server-enabled\");class l extends i{constructor(e,s,t,i){super(e),this._pointToCallbacks=new Map,this._layer=t,this._layerView=s,this._onUpdate=i}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}isUpdating(){return this.attributeView.isUpdating()}hitTest(e,t){const i=[e,t],r=s();return this._pointToCallbacks.set(i,r),this.requestRender(),r.promise}onTileData(e,s){const t=a&&\"orderBy\"in this._layer&&this._layer.orderBy,i=(null==t?void 0:t.length)&&!t[0].valueExpression&&t[0].field,r=t&&this._layerView.orderByFields===i;e.patch(s,r),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){this.contains(e)||this.addChild(e)}doRender(e){const{minScale:s,maxScale:t}=this._layer,i=e.state.scale;i<=(s||1/0)&&i>=t&&super.doRender(e)}onAttributeStoreUpdate(){this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._onUpdate()}get hasAnimation(){return this.hasLabels}get hasLabels(){if(\"sublayers\"in this._layer)return this._layer.sublayers.some((e=>e.labelingInfo&&e.labelingInfo.length&&e.labelsVisible));const e=this._layer.featureReduction,s=e&&\"cluster\"===e.type&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo&&this._layer.labelingInfo.length&&this._layer.labelsVisible||!!s}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"label\",brushes:[t.label],target:()=>this.hasLabels?this.children:null,drawPhase:r.LABEL|r.LABEL_ALPHA}),i=e.registerRenderPass({name:\"geometry\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.excluded},{apply:e.effects.insideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.included},{apply:e.effects.hittest,enable:()=>!!this._pointToCallbacks.size,args:()=>this._pointToCallbacks}]}),a=e.registerRenderPass({name:\"highlight\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,drawPhase:r.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return[...super.prepareRenderPasses(e),i,a,s]}}export{l as WGLFeatureView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{FeatureTile as r}from\"../../../engine/webgl/FeatureTile.js\";import{simplifyVVRenderer as a}from\"../support/rendererUtils.js\";import o from\"./BaseTileRenderer.js\";import{convertVisualVariables as l}from\"./support/visualVariablesUtils.js\";import{WGLFeatureView as n}from\"./support/WGLFeatureView.js\";let u=class extends o{install(e){const t=()=>this.notifyChange(\"updating\"),i=new n(this.tileInfoView,this.layerView,this.layer,t);this.featuresView=i,e.addChild(i)}uninstall(e){e.removeChild(this.featuresView),this.featuresView.destroy()}isUpdating(){const e=super.isUpdating(),i=!this.featuresView||this.featuresView.isUpdating(),s=e||i;return t(\"esri-2d-log-updating\")&&console.log(`Updating SymbolTileRenderer ${s}\\n  -> updatingTiles ${e}\\n  -> updatingFeaturesView ${i}`),s}hitTest(e,t){return this.featuresView.hitTest(e,t)}supportsRenderer(e){return null!=e&&-1!==[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\"].indexOf(e.type)}onConfigUpdate(e){let t=null;if(\"visualVariables\"in e){const i=(a(e).visualVariables||[]).map((e=>{const t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t}));t=l(i)}this.featuresView.setRendererInfo(e,t,this.layerView.effects)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&e.data&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lock()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlock()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()}createTile(e){const t=this.tileInfoView.getTileBounds(s(),e);return new r(e,t[0],t[3],this.featuresView.attributeView)}disposeTile(e){this.featuresView.removeChild(e),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};u=e([i(\"esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],u);var p=u;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{premultiplyAlpha as n}from\"../../../../engine/webgl/color.js\";import{NAN_MAGIC_NUMBER as o}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as i}from\"../../../../engine/webgl/enums.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],n=[],i=u(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];t.push(e.value),n.push(null==e.size?o:s(e.size))}return{values:new Float32Array(t),sizes:new Float32Array(n)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case i.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case i.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case i.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case i.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)n(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{i as s,t as r,m as t}from\"../../../../chunks/mat2d.js\";import{s as e,m as a}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{t as o}from\"../../../../chunks/vec2.js\";import{c as n}from\"../../../../chunks/vec2f32.js\";import{TILE_SIZE as h}from\"./definitions.js\";import{TiledDisplayObject as m}from\"./TiledDisplayObject.js\";class c{acquire(s){return{refCount:1,version:-1,labelMat2d:i(),tileMat3:i(),dvs:i()}}release(s){}}class f extends m{constructor(s,r,t){super(s,r,t,h,h)}destroy(){super.destroy(),this._transforms&&f.TransformCache.release(this.key.hash)}setTransform(i,h){if(i.version===this.transforms.version)return;this.transforms.version=i.version;const m=h/(i.resolution*i.pixelRatio),c=this.transforms.tileMat3,[f,l]=i.toScreenNoRotation([0,0],[this.x,this.y]),u=this.width/this.rangeX*m,d=this.height/this.rangeY*m;e(c,u,0,0,0,d,0,f,l,1),a(this.transforms.dvs,i.displayViewMat3,c);const p=this.transforms.labelMat2d,v=i.getScreenTransform(p,h),j=n();o(j,[this.x,this.y],v),s(p),r(p,p,j),t(p,i.viewMat2d,p)}_createTransforms(){return f.TransformCache.acquire(this.key.hash)}}f.TransformCache=new c;export{f as WGLTile};\n"],"sourceRoot":""}
{"version":3,"sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js"],"names":["a","c","this","handles","add","o","doRefresh","catch","r","s","e","getLogger","declaredClass","error","t","prototype","i","Map","set","Math","PI","esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour","h","get","l","n","sqrt","atan2","u","cos","sin","f","pixels","width","height","p","m","createEmptyBand","pixelType","M","x","d","mask","validPixelCount","maskIsAlpha","updateStatistics","clone","spatialReference","equals","extent","resolution","xmin","ymax","max","ceil","xmax","ymin","floor","round","g","k","w","y","P","b","I","v","A","_","U","S","push","D","F","j","N","T","q","B","E","J","pennants","barbs","shaft","length","min","style","Number","MAX_VALUE","vertexData","Float32Array","indexData","Uint32Array","fromJSON","inputUnit","random","outputUnit","breakValues","filter","Uint8Array","xoffset","abs","yoffset","stops","size","type","map","maxSize","minSize","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","isWGS84","isWebMercator","cols","rows","center","R","isGeographic","z","normalize","isNaN","apply","wkid","W","G","storageInfo","origin","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","inverseTransform","NaN","C","L","offsets","coefficients","spacing","pixelSize","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","dataType","overlayPixelSizeInMapUnits","basemapSpatialReference","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","has","indexOf","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_timer","_cachedBlocks","_size","_duration","_interval","refCount","delete","controller","abort","ts","Date","now","block","trim","updateTimer","clear","clearTimer","setInterval","Array","from","clearInterval","rasterInfo","cache","some","decreaseRefCount","getBlock","isResolved","isRejected","then","putBlock","deleteBlock","Set","pyramidBlockWidth","pyramidBlockHeight","blockHeight","$","H","bitmap","coordScale","once","ready","destroy","stage","stencilRef","transforms","dvs","tileMat3","arguments","_getTileBounds","_tileInfoView","tileInfo","registerRenderPass","name","brushes","raster","target","children","drawPhase","MAP","visible","getTileBounds","world","lodAt","level","_emptyTilePixelBlock","container","layer","tileSize","useWebGLForProcessing","fetchTile","row","col","join","symbolizer","canRenderInWebGL","interpolation","_canUseMajorityInterpolationOnDataSource","bandIds","_getLayerInterpolation","canUseWebGLForProcessing","source","symbolizerParams","globalSymbolizerParams","suspended","coords","pixelBlock","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","createEmptyTilePixelBlock","invalidateTexture","local","global","tileInfoView","addChild","removeAllChildren","remove","bandCount","attributeTable","colormap","colorRamp","_source","_symbolizerParameters","_vaoInvalidated","vaoData","magdir","vao","dispose","scalar","JSON","stringify","invalidateVAO","requestRender","_createVectorFieldVAO","context","createVertex","createIndex","geometry","location","count","normalized","attributes","bufferLayouts","elementCount","tileData","pixelRatio","offset","toScreenNoRotation","symbolTileSize","rangeX","rangeY","displayViewMat3","symbolTypes","renderPass","_handle","convertVectorFieldData","key","_getTileSymbolOffset","_sampleVectorFieldData","Promise","resolve","_updateSymbolType","watch","V","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","subview","_redrawOrRefetch","_redrawImage","updateFullExtent","addResolvingPromise","_get","_set","useProgressiveUpdate","_getCacheSize","cachePolicy","acquireTile","releaseTile","cacheSize","requestUpdate","view","toMap","pause","state","update","resume","scale","getClosestInfoForScale","toJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","notifyChange","increaseRasterJobHandlerUsage","supportsTextureFloat","_initializeTileInfo","fullExtent","_computeFetchConcurrency","concurrency","process","_updatesubview","blendMode","effect","_updateBlockCacheRegistry","decreaseRasterJobHandlerUsage","uninstall","signal","updateRenderer","reset","tiles","_enqueueTileFetch","createTile","id","removeChild","allowPartialFill","registryId","requestRawData","srcResolution","datumTransformation","_isVectorField","install","create","blockBoundary","maxCol","minCol","maxRow","minRow","moving","getTileCoords","getTileResolution","updateTileSource","_updateGlobalSymbolizerParams","updateTileSymbolizerParameters","fetchPixels","generateWebGLParameters","isGCS","factor","outMin","outMax","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","_rasterFieldPrefix","dynamicRangeAdjustment","reject","popupEnabled","identify","value","magdirValue","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","features","Value","VALUE","String","hasOwnProperty","sourceLayer","fieldInfos","_getFieldInfo","format","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","readOnly","triangleCountReportedInDebug","triangleCount","texture","parent","when","title","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","on","whenLayerView","destroyed","attach","detach","minScale","maxScale","isFulfilled","isVisibleAtScale","sortChildren","setStencilReference","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","setTransform"],"mappings":"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","file":"static/js/24.e2399aec.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/watchUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.handles.add(o(this,\"layer\",\"refresh\",(()=>{this.doRefresh().catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{a as RefreshableLayerView,a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../core/jsonMap.js\";import{isSome as e}from\"../../../core/maybe.js\";import n from\"../PixelBlock.js\";import{isValidPixelBlock as r}from\"./pixelUtils.js\";const o=new Map;o.set(\"meter-per-second\",1),o.set(\"kilometer-per-hour\",.277778),o.set(\"knots\",.514444),o.set(\"feet-per-second\",.3048),o.set(\"mile-per-hour\",.44704);const a=180/Math.PI,s=5,i=new t({esriMetersPerSecond:\"meter-per-second\",esriKilometersPerHour:\"kilometer-per-hour\",esriKnots:\"knots\",esriFeetPerSecond:\"feet-per-second\",esriMilesPerHour:\"mile-per-hour\"});function h(t,e){return o.get(t)/o.get(e)||1}function l(t){return(450-t)%360}function c(t,e=\"geographic\"){const[n,r]=t,o=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*a;return s=(360+s)%360,\"geographic\"===e&&(s=l(s)),[o,s]}function u(t,e=\"geographic\"){let n=t[1];\"geographic\"===e&&(n=l(n)),n%=360;const r=t[0];return[r*Math.cos(n/a),r*Math.sin(n/a)]}function f(t,e,o=\"geographic\",a=1){if(!r(t))return t;const{pixels:s,width:i,height:h}=t,l=i*h,f=s[0],p=s[1],m=n.createEmptyBand(t.pixelType,l),M=n.createEmptyBand(t.pixelType,l);let x=0;for(let n=0;n<h;n++)for(let t=0;t<i;t++)\"vector-uv\"===e?([m[x],M[x]]=c([f[x],p[x]],o),m[x]*=a):([m[x],M[x]]=u([f[x],p[x]],o),m[x]*=a,M[x]*=a),x++;const d=new n({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[m,M]});return d.updateStatistics(),d}function p(t,e,n=1){if(1===n||!r(t))return t;const o=t.clone(),{pixels:a,width:s,height:i}=o,h=a[0],l=a[1];let c=0;for(let r=0;r<i;r++)for(let t=0;t<s;t++)\"vector-uv\"===e?(h[c]*=n,l[c]*=n):h[c]*=n,c++;return o.updateStatistics(),o}function m(t,n,r,o,a){if(!e(a)||!a.spatialReference.equals(t.spatialReference))return{extent:t,width:n,height:r,resolution:t.width/n};const s=a.xmin,i=a.ymax;o=Math.max(o||0,30);const h=Math.ceil(n*(1/o)),l=Math.ceil(r*(1/o)),c=((t.xmax-t.xmin)/h+(t.ymax-t.ymin)/l)/2;return t.xmin=s+Math.floor((t.xmin-s)/c)*c,t.xmax=s+Math.ceil((t.xmax-s)/c)*c,t.ymin=i+Math.floor((t.ymin-i)/c)*c,t.ymax=i+Math.ceil((t.ymax-i)/c)*c,{extent:t,width:Math.round(t.width/c),height:Math.round(t.height/c),resolution:c}}const M=x(0,0,0);function x(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,a=13*o,s=-7*o,i=-2*o,h=-16*o,l=29,[c,u]=g(0,e+a,n,l),[f,p]=g(t-5.5,e+s,n,l),[m,M]=g(t+5.5,e+s,n,l),[x,d]=g(t-1.5,e+i,n,l),[k,w]=g(t+1.5,e+i,n,l),[y,P]=g(t-1.5,e+h,n,l),[b,I]=g(t+1.5,e+h,n,l);return[c,u,f,p,x,d,k,w,m,M,y,P,b,I]}function d(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,a=5*o,i=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o;let[M,x]=[c+r/2,u-i],[d,k]=[M+f,x],[w,y]=[d-p,k+m],[P,b]=[c-r/2,u-h],[I,v]=[P+p,b-m],A=Math.ceil(t/s),_=Math.floor(A/10);A-=8*_;const U=[],S=[];for(let s=0;s<A/2;s++,_--){_<=0&&A%2==1&&s===(A-1)/2&&(P=c,I=P+p,b=(b+x)/2,v=b-m);const[t,n]=g(P,b,e,l);if(_>0){const[r,o]=g(d,b,e,l),[a,s]=g(M,x,e,l);U.push(r),U.push(o),U.push(t),U.push(n),U.push(a),U.push(s)}else{const[r,o]=g(d,k,e,l),[a,s]=g(w,y,e,l),[i,h]=g(I,v,e,l);S.push(t),S.push(n),S.push(i),S.push(h),S.push(a),S.push(s),S.push(r),S.push(o)}b+=a,x+=a,k+=a,y+=a,v+=a}const[D,F]=g(c+r/2,u+i,e,l),j=r/2+f,[N,T]=g(c+j,u+i,e,l),[q,B]=g(c+r/2,u-h,e,l),[E,J]=g(c+j,u-h,e,l);return{pennants:U,barbs:S,shaft:[D,F,N,T,q,B,E,J]}}function g(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+a-n)%(2*Math.PI)]}const k=[0,1,3,6,10,16,21,27,33,40,47,55,63],w=[0,.5,1,1.5,2],y=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(t,e,n,r){const o=h(r||\"knots\",n);let a;for(a=1;a<e.length;a++)if(a===e.length-1){if(t<e[a]*o)break}else if(t<=e[a]*o)break;return Math.min(a-1,e.length-2)}function b(t,e,n,r,o){let a=0;switch(e){case\"beaufort_kn\":a=P(t,k,\"knots\",n);break;case\"beaufort_km\":a=P(t,k,\"kilometer-per-hour\",n);break;case\"beaufort_ft\":a=P(t,k,\"feet-per-second\",n);break;case\"beaufort_m\":a=P(t,k,\"meter-per-second\",n);break;case\"classified_arrow\":a=P(t,o,r,n);break;case\"ocean_current_m\":a=P(t,w,\"meter-per-second\",n);break;case\"ocean_current_kn\":a=P(t,y,\"knots\",n)}return a}function I(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:a}=e,s=i.fromJSON(r),h=i.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,d=t.pixels[0],g=t.pixels[1],k=x?x.filter((t=>t>0)).length:p*m,w=new Float32Array(k*l),y=new Uint32Array(c*k);for(let i=0;i<m;i++)for(let t=0;t<p;t++){const e=i*p+t;if(!x||x[i*p+t]){var P;const r=null!=(P=(g[e]+360)%360/180*Math.PI)?P:2*Math.PI*Math.random(),o=b(d[e],n,s,h,a);for(let n=0;n<M.length;n+=2)w[u++]=(t+.5)/p,w[u++]=(i+.5)/m,w[u++]=M[n],w[u++]=M[n+1]+r,w[u++]=o,w[u++]=d[e];const c=7*(u/l-1);y[f++]=c,y[f++]=c+1,y[f++]=c+2,y[f++]=c+0,y[f++]=c+4,y[f++]=c+3,y[f++]=c+0,y[f++]=c+2,y[f++]=c+3,y[f++]=c+2,y[f++]=c+5,y[f++]=c+3,y[f++]=c+5,y[f++]=c+6,y[f++]=c+3}}return{vertexData:w,indexData:y}}const v=[];function A(t,e){if(0===v.length)for(let s=0;s<30;s++)v.push(d(5*s,0));const n=h(i.fromJSON(e.inputUnit),\"knots\"),{width:r,height:o,mask:a}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,M=0;for(let i=0;i<o;i++)for(let t=0;t<r;t++){const e=i*r+t,h=l[e]*n;if((!a||a[i*r+t])&&h>=s){var x;const n=null!=(x=(c[e]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),{pennants:a,barbs:s,shaft:l}=v[Math.min(Math.floor(h/5),29)];if(a.length+s.length===0)continue;let d=f.length/u;const g=(t+.5)/r,k=(i+.5)/o;for(let t=0;t<a.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=a[t],f[m++]=a[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<s.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=s[t],f[m++]=s[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<l.length;t+=2)f[m++]=g,f[m++]=k,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=h;for(let t=0;t<a.length/6;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,d+=3;for(let t=0;t<s.length/8;t++)p[M++]=d,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+2,p[M++]=d+3,d+=4;p[M++]=d+0,p[M++]=d+1,p[M++]=d+2,p[M++]=d+1,p[M++]=d+3,p[M++]=d+2,d+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:a,height:i,mask:h}=t,l=t.pixels[0],c=[],u=[],f=\"wind_speed\"===e.style?s:Number.MAX_VALUE;for(let s=0;s<i;s++)for(let t=0;t<a;t++){const e=s*a+t;if((!h||h[s*a+t])&&l[e]<f){for(let n=0;n<4;n++)c[r++]=(t+.5)/a,c[r++]=(s+.5)/i,c[r++]=n<2?-.5:.5,c[r++]=n%2==0?-.5:.5,c[r++]=0,c[r++]=l[e];const h=4*(r/n-1);u[o++]=h,u[o++]=h+1,u[o++]=h+2,u[o++]=h+1,u[o++]=h+2,u[o++]=h+3}}return{vertexData:new Float32Array(c),indexData:new Uint32Array(u)}}function U(t,e){return\"simple_scalar\"===e.style?_(t,e):\"wind_speed\"===e.style?A(t,e):I(t,e)}function S(t,e,r,o=[0,0],a=.5){const{width:s,height:i,mask:h}=t,[l,f]=t.pixels,[p,m]=o,M=Math.round((s-p)/r),x=Math.round((i-m)/r),d=M*x,g=new Float32Array(d),k=new Float32Array(d),w=new Uint8Array(d),y=\"vector-uv\"===e;for(let n=0;n<x;n++)for(let t=0;t<M;t++){let e=0;const o=n*M+t,x=Math.max(0,n*r+m),d=Math.max(0,t*r+p),P=Math.min(i,x+r),b=Math.min(s,d+r);for(let t=x;t<P;t++)for(let n=d;n<b;n++){const r=t*s+n;if(!h||h[r]){e++;const t=y?[l[r],f[r]]:[l[r],(360+f[r])%360],[n,a]=y?t:u(t);g[o]+=n,k[o]+=a}}if(e>=(P-x)*(b-d)*(1-a)){w[o]=1;const[t,n]=c([g[o]/e,k[o]/e]);g[o]=t,k[o]=n}else w[o]=0,g[o]=0,k[o]=0}const P=new n({width:M,height:x,pixels:[g,k],mask:w});return P.updateStatistics(),P}export{f as convertVectorFieldData,p as convertVectorFieldUnit,U as createVFMesh,_ as createVFMeshScalar,h as getUnitConversionFactor,S as sampleVectorField,m as snapImageToSymbolTile,i as unitKebabDict,c as uvComponentToVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isLoaded as r,isSupported as i,load as a,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import{project as c}from\"../../../geometry/support/webMercatorUtils.js\";import x from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";const f=5e-4,u=function(e,t){const n=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||n)},p=function(e,t){const n=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,o=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs(n-e[2*t.rows+2]),Math.abs(o-e[2*t.rows+3])]},h={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},y=32;async function M(){if(r()||!i())return null;await a()}function d(t,n,o){if(!u(t.spatialReference,n))return null;if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?s(n,t.spatialReference,t):s(t.spatialReference,n,t)}function g(n,o,i,a=null){if(n.spatialReference.equals(o))return n;const s=u(n.spatialReference,o);if(s&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=i.center,f=new x({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=s?l(f,o,a):c(f,o);if(t(p))return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,t=.01){return o(e)?t/o(e):0}function R(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;let x=c(n,o);if(t(x)){if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");x=l(n,o,i)}if(a&&o.isGeographic){const[e,t]=N(s,!0),o=w(s);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<f?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<f&&(x.x+=360))}return x}function j(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new x({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function b(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=z(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return v(e,t,o,r);return j(e.clone().normalize().map((e=>v(e,t,o,r))))}function v(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;if(u(s,o)&&!r())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");let x=c(n,o);t(x)&&(x=l(n,o,i));let[p,h]=N(s,!0);if(x&&a&&s.isWebMercator&&o.isGeographic&&null!=p&&null!=h){const e=.001,t=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>t&&Math.abs(180-x.xmax)<f){x.xmin=-180;const e=[];e.push(new m(n.xmax,n.ymin,s)),e.push(new m(n.xmax,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmax,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmax=Math.max.apply(null,t)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>t&&Math.abs(180+x.xmin)<f){x.xmax=180;const e=[];e.push(new m(n.xmin,n.ymin,s)),e.push(new m(n.xmin,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmin,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmin=Math.min.apply(null,t)}}[p,h]=N(o,!0);const y=w(o);return y&&null!=p&&null!=h&&(Math.abs(x.xmin-p)<y&&(x.xmin=p),Math.abs(x.xmax-h)<y&&(x.xmax=h)),x}function S(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function N(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function W(e,t,n,o){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function z(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return W(e.xmax,r,o,!0)-W(e.xmin,r,o,!1)}function G(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const f=[],u=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=u?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,u=(c-Math.round(h/m)%c)%c;f.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:u,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:f,hasGCSSShiftTransform:u}}function P(t,o,i,a=null,s=null,l=!1,c=[y,y]){if(u(t.spatialReference,o.spatialReference)&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&o&&i))return null;const{xmin:x,ymin:f,xmax:h,ymax:M}=t,d=t.spatialReference,g=o.spatialReference,w=S(g);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((h-x)/j.x-.1/c[0])+1,rows:Math.ceil((M-f)/j.y-.1/c[1])+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let r=0;r<b.rows;r++){let i=R(new m({x:x+v*e,y:M-N*r,spatialReference:d}),g,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[r]&&n(w)&&i.x<z[r].x&&(i.x+=w),i?(W.push((i.x-o.xmin)/(o.xmax-o.xmin)),W.push((o.ymax-i.y)/(o.ymax-o.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=p(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let t=0;t<b.rows-1;t++){let n=e*b.rows*2+2*t;const o=W[n],r=W[n+1],i=W[n+2],a=W[n+3];n+=2*b.rows;const s=W[n],l=W[n+1],c=W[n+2],x=W[n+3];let m=0,f=12*(t*(b.cols-1)+e);for(let e=0;e<3;e++)C[f++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function C(e){const t=e.clone().normalize();return 1===t.length?t[0]:j(t)}function L(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,x=(i.x+i.y)/2;if(n<=x)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=x;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const f=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new m({x:f.x,y:f.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,x=Math.log(e.y/i.y)/Math.LN2,f=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,x)):\"up\"===o?Math.ceil(Math.max(c,x)):Math.round((c+x)/2),a<0?a=0:a>f&&(s=a>f+3,a=f);const u=2**a;return{pyramidLevel:a,pyramidResolution:new m({x:u*t.nativePixelSize.x,y:u*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function k(e,t,n=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new m({x:s.x,y:s.y,spatialReference:a}),t,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,x=o(t),f=c*x*96*39.37,u=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=b(i,t);p||r&&(t.isGeographic||t.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=f;const d=1.001;if(p){M=u;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*x*39.37),o=t.isGeographic?4326:3857;y=g(new m({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/n,y.y*=M/n}else{y={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;M<u*(d/2)&&n<t;)n++,M*=2,y.x*=2,y.y*=2;Math.max(M,u)/Math.min(M,u)<=d&&(M=u)}const w=[M],R=[{x:y.x,y:y.y}],j=70.5310735,v=Math.min(j,f)/d;for(;M>=v;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{k as computeProjectedScales,y as defaultGridSpacing,d as getDefaultDatumTransformationForDataset,P as getProjectionOffsetGrid,G as getRasterDatasetAlignmentInfo,z as getWorldWrapCount,M as load,b as projectExtent,R as projectPoint,g as projectResolution,C as snapExtent,L as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as r}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../layers/support/PixelBlock.js\";let l=class extends r{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this.container=null,this.layer=null,this.tileSize=null,this.useWebGLForProcessing=!0}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}createEmptyTilePixelBlock(e=null){const r=null==e||e.join(\",\")===this.tileSize.join(\",\");if(r&&o(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this.tileSize;const[t,i]=e,l=new s({width:t,height:i,pixels:[new Uint8Array(t*i)],mask:new Uint8Array(t*i),pixelType:\"u8\"});return r&&(this._emptyTilePixelBlock=l),l}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([i(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],l);export{l as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as s}from\"../../engine/RasterTileContainer.js\";import{BaseImageryTileSubView2D as i}from\"./BaseImageryTileSubView2D.js\";let l=class extends i{constructor(){super(...arguments),this.container=null,this.layer=null,this.tileSize=null,this.type=\"raster\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:o}=this.layer,s=this._getLayerInterpolation(),i=this.canUseWebGLForProcessing(),{source:l,symbolizerParams:a,globalSymbolizerParams:n,suspended:c,coords:p,resolution:u}=t,{bitmap:d}=e;if([d.x,d.y]=p,d.resolution=u,l&&r(l)&&r(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};if(d.rawPixelData=e,i)d.source=l.pixelBlock,d.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===(null==n?void 0:n.type)?n:null);d.source=r,d.isRendereredSource=!0}d.symbolizerParameters=i?a:null,i?d.transformGrid||(d.transformGrid=l.transformGrid):d.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();d.source=e,d.symbolizerParameters=i?a:null,d.transformGrid=null}d.bandIds=i?o:null,d.width=this.tileSize[0],d.height=this.tileSize[1],d.interpolation=s,d.suspended=c,d.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:o,global:s}=t,{bandIds:i}=this.layer,l=this._getLayerInterpolation(),a=this.canUseWebGLForProcessing(),{bitmap:n}=e,{rawPixelData:c}=n;!a&&r(c)?(n.source=await this.layer.applyRenderer(c,\"stretch\"===(null==s?void 0:s.type)?s:null),n.isRendereredSource=!0):(n.isRendereredSource&&r(c)&&(n.source=c.pixelBlock),n.isRendereredSource=!1),n.symbolizerParameters=a?s||o:null,n.bandIds=a?i:null,n.interpolation=l,n.suspended=!1}install(e,r){this.container=new s(r.tileInfoView),this.container.isCustomTilingScheme=r.isCustomTilingScheme,e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this.container.remove()}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:r,colormap:t,pixelType:o}=this.layer.rasterInfo;return 1===e&&(null!=r||null!=t||\"u8\"===o||\"s8\"===o)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"tileSize\",void 0),e([t()],l.prototype,\"type\",void 0),e([t()],l.prototype,\"useWebGLForProcessing\",void 0),l=e([o(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],l);var a=l;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/mat3f32.js\";import{createVFMesh as a,createVFMeshScalar as s}from\"../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import r from\"../../webgl/BufferObject.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/checkWebGLError.js\";import\"../../webgl/enums.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/renderState.js\";import\"../../webgl/Texture.js\";import i from\"../../webgl/VertexArrayObject.js\";import{DisplayObject as o}from\"./DisplayObject.js\";import{createProgramDescriptor as l}from\"./webgl/Utils.js\";class c extends o{constructor(e=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.rawPixelData=null,this.width=null,this.source=e}destroy(){var t,a;e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(e){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(e)&&(this._symbolizerParameters=e,this.invalidateVAO())}get source(){return this._source}set source(e){this._source=e,this.invalidateVAO()}invalidateVAO(){var t,a;!this._vaoInvalidated&&e(this.vaoData)&&(null==(t=this.vaoData.magdir)||t.vao.dispose(),null==(a=this.vaoData.scalar)||a.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(t){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,e(this.source)&&!e(this.vaoData)){const{style:e}=this.symbolizerParameters;switch(e){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const e=a(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(t.context,e);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const e=s(this.source,this.symbolizerParameters),a=this._createVectorFieldVAO(t.context,e);this.vaoData={scalar:a}}break;case\"wind_speed\":{const e=a(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(t.context,e),i=s(this.source,this.symbolizerParameters),o=this._createVectorFieldVAO(t.context,i);this.vaoData={magdir:r,scalar:o}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:t()}}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(e,t){const{vertexData:a,indexData:s}=t,o=r.createVertex(e,35044,new Float32Array(a)),c=r.createIndex(e,35044,new Uint32Array(s)),n=l(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:5126,normalized:!1},{location:1,name:\"a_offset\",count:2,type:5126,normalized:!1},{location:2,name:\"a_vv\",count:2,type:5126,normalized:!1}]});return{vao:new i(e,n.attributes,n.bufferLayouts,{geometry:o},c),elementCount:s.length}}}export{c as RasterVFDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../chunks/mat3.js\";import{c as e}from\"../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"./webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{RasterVFTile as s}from\"./RasterVFTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import t from\"./webgl/TileContainer.js\";import i from\"./webgl/brushes/raster/BrushVectorField.js\";class o extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),[i,o]=this._tileInfoView.tileInfo.size;return new s(r,t[0],t[3],i,o)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[i],target:()=>this.children.map((e=>e.tileData)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as o}from\"../../engine/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as l}from\"./BaseImageryTileSubView2D.js\";let a=class extends l{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.tileSize=null,this.type=\"rasterVF\",this.useWebGLForProcessing=!0}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&null!=i&&i.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:s}=e;s.key=e.key,s.width=this.tileSize[0],s.height=this.tileSize[1];const{symbolTileSize:o}=r,{source:l}=i;if(s.offset=this._getTileSymbolOffset(s.key,o),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};s.rawPixelData=e,s.source=this._sampleVectorFieldData(l.pixelBlock,r,s.offset),s.symbolizerParameters=r}else{const e=[Math.round((this.tileSize[0]-s.offset[0])/o),Math.round((this.tileSize[1]-s.offset[1])/o)],t=this.createEmptyTilePixelBlock(e);s.source=t,s.symbolizerParameters=r}return s.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){var r;const s=i.local,{symbolTileSize:o}=s,{tileData:l}=e;l.offset=this._getTileSymbolOffset(l.key,o);const a=l.symbolizerParameters.symbolTileSize;return l.symbolizerParameters=s,t(null==(r=l.rawPixelData)?void 0:r.pixelBlock)&&a!==o&&(l.source=this._sampleVectorFieldData(l.rawPixelData.pixelBlock,l.symbolizerParameters,l.offset)),Promise.resolve(null)}install(e,t){this.container=new o(t.tileInfoView),this.container.isCustomTilingScheme=t.isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=this.layer.watch(\"renderer\",(e=>this._updateSymbolType(e))),e.addChild(this.container)}uninstall(){this.container.removeAllChildren(),this._handle.remove(),this._handle=null,this.container.remove()}_getTileSymbolOffset(e,t){const i=e.col*this.tileSize[0]%t,r=e.row*this.tileSize[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([i()],a.prototype,\"container\",void 0),e([i()],a.prototype,\"layer\",void 0),e([i()],a.prototype,\"tileSize\",void 0),e([i()],a.prototype,\"type\",void 0),e([i()],a.prototype,\"useWebGLForProcessing\",void 0),a=e([r(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],a);var c=a;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as a,createAbortController as l,eachAlways as h}from\"../../../core/promiseUtils.js\";import{createScreenPoint as n}from\"../../../core/screenUtils.js\";import{watch as c,init as u}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../layers/support/TileInfo.js\";import{update as y,unregister as g,register as f,getRasterId as _}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as b}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView2DMixin as v}from\"./LayerView2D.js\";import I from\"./imagery/ImageryTileView2D.js\";import C from\"./imagery/VectorFieldTileView2D.js\";import P from\"../tiling/TileInfoView.js\";import S from\"../tiling/TileQueue.js\";import R from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as U}from\"../../layers/ImageryTileLayerView.js\";import T from\"../../layers/LayerView.js\";import{RefreshableLayerView as z}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as j}from\"../../support/drapedUtils.js\";import k from\"../../webgl/capabilities.js\";import F from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const L=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),V=[0,0];let q=class extends(U(z(v(T)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.subview=null,this._redrawOrRefetch=o(((e,t)=>e?this.doRefresh():this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useWebGLForProcessing(){var e;return null==(e=this._get(\"useWebGLForProcessing\"))||e}set useWebGLForProcessing(e){this.subview&&(this.subview.useWebGLForProcessing=e),this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){var t;this._tileStrategy.destroy(),null==(t=this.subview)||t.container.removeAllChildren();const i=this._getCacheSize(e);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:i,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(n(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var o;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:F.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(o=this._previousLOD)?void 0:o.level)!==r.level&&(this._previousLOD=r,null==this._symbolizerParams||this.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),k().supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new P(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new S({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new R({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updatesubview(),this.handles.add([c(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),o=\"renderer\"===i&&\"vector-field\"===t.type!=(\"vector-field\"===t.type);o&&this._updatesubview();const l=s||r||o;this._redrawOrRefetch(l).catch((e=>{a(e)||L.error(e)}))})),u(this,[\"layer.blendMode\"],(e=>{this.subview&&(this.subview.container.blendMode=e)}),!0),u(this,[\"layer.effect\"],(e=>{this.subview&&(this.subview.container.effect=e)}),!0)],\"attach\"),this._updateBlockCacheRegistry()}detach(){var e;this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),null==(e=this.subview)||e.uninstall(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,g(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=l(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return j(e,t,this.view)}async doRefresh(){if(this.suspended)return;await this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await h(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this.subview.container.createTile(e);return this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){var t;this._fetchQueue.abort(e.key.id),null==(t=this.subview)||t.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,o=this.subview.canUseWebGLForProcessing(),a={allowPartialFill:!0,tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:o,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:o?\"nearest\":this.layer.interpolation};return this.subview.fetchTile(e,a)}_updatesubview(){const e=this._isVectorField()?\"rasterVF\":\"raster\";if(this.subview){if(this.subview.type===e)return;this.subview.uninstall()}const{layer:t}=this,i=new(\"rasterVF\"===e?C:I)({layer:t,tileSize:this.tileInfo.size,useWebGLForProcessing:this.useWebGLForProcessing});i.install(this.container,{tileInfoView:this._tileInfoView,isCustomTilingScheme:this._isCustomTilingScheme}),i.container.blendMode=t.blendMode,i.container.effect=t.effect,this.subview=i}_isVectorField(){return\"vector-field\"===this.layer.renderer.type}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new x({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),o=m.create({spatialReference:e,size:512,scales:i});(0===o.origin.x||o.origin.x>t.x)&&(o.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",o),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){a(i)&&L.error(i)}this._globalUpdateRequested=!1}!this.subview.canUseWebGLForProcessing()&&!this._isVectorField()||this.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const o=this._tileInfoView.getTileCoords(V,e.key),l=this._tileInfoView.getTileResolution(e.key);await this.subview.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:o,resolution:l}),e.once(\"attach\",(()=>this.requestUpdate())),this.subview.container.addChild(e)}catch(i){a(i)||L.error(i)}this.requestUpdate()}}async _redrawImage(e){if(0===this.subview.container.children.length)return;await this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.subview.container.children.map((async e=>this.subview.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await h(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:b(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this.subview.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,o=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,a=_(t,o);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&g(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=f(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];y(a,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}};e([d()],q.prototype,\"subview\",void 0),e([d()],q.prototype,\"useWebGLForProcessing\",null),e([d()],q.prototype,\"useProgressiveUpdate\",null),q=e([p(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var G=q;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as s,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:a}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a}));const{popupEnabled:s}=a,n=l(a,o);if(!s||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:s,popupTemplate:n});const u=[],{value:p,magdirValue:m}=await a.identify(e);let f=\"\";if(p&&p.length){var c,h;f=\"imagery-tile\"===a.type&&a.hasStandardTime()&&null!=p[0]?p.map((e=>a.getStandardTimeValue(e))).join(\", \"):p.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(c=a.rasterInfo)||null==(h=c.attributeTable)?void 0:h.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=a.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=null==m?void 0:m[0],e[\"Raster.Direction\"]=null==m?void 0:m[1]);const s=new t(this.fullExtent.clone(),null,e);s.layer=a,s.sourceLayer=s.layer,u.push(s)}return u}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const i=s(this.layer.fullExtent,this.view.spatialReference,!1),o=n(this.layer.fullExtent,this.view.spatialReference,i);return null==o&&(t=new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",o),this.datumTransformation||(this.datumTransformation=s(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([o()],p.prototype,\"layer\",void 0),e([o()],p.prototype,\"view\",void 0),e([o()],p.prototype,\"fullExtent\",void 0),e([o()],p.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],p.prototype,\"hasTilingEffects\",null),p=e([a(\"esri.views.layers.ImageryTileLayerView\")],p),p};export{u as ImageryTileLayerView,u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o=r,n=h){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.x=s,this.y=i,this.width=r,this.height=h,this.rangeX=o,this.rangeY=n}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i,e){const r=e/(i.resolution*i.pixelRatio),h=this.transforms.tileMat3,[o,n]=i.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*r,l=this.height/this.rangeY*r;t(h,a,0,0,0,l,0,o,n,1),s(this.transforms.dvs,i.displayViewMat3,h)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),d=e([p(\"esri.views.layers.LayerView\")],d);var u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};e([r({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),e([r({readOnly:!0})],c.prototype,\"version\",null),c=y=e([o(\"esri.views.layers.support.Geometry\")],c);var a=c;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as a}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([o(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n"],"sourceRoot":""}